# 🤖 AI增强版英语学习助手

基于原有的自适应学习系统，现在集成了大语言模型(LLM)，提供更智能的学习体验！

## 🆕 新增AI功能

### 1. 智能判分系统
- **语义理解**：对开放题进行语义评分，不再局限于字符串匹配
- **个性化解释**：根据学生错误生成针对性的解释和建议
- **置信度评估**：评估判分的可靠性

### 2. AI学习助手
- **个性化建议**：分析学生的薄弱技能，生成专属学习建议
- **智能对话**：与AI助手自由交流，获得学习指导
- **错误诊断**：深度分析学习模式，提供改进方案

### 3. 动态题目生成
- **针对性出题**：根据学生薄弱点生成个性化题目
- **难度自适应**：基于掌握度动态调整题目难度
- **多样化题型**：支持语法、词汇等不同类型题目生成

## 🚀 快速开始

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 配置API密钥
复制配置文件并设置你的OpenAI API密钥：
```bash
cp .env.example .env
# 编辑 .env 文件，填入你的 OPENAI_API_KEY
```

### 3. 运行程序
```bash
python main.py
```

## 📋 使用指南

### 基础学习流程
1. **输入用户信息**：用户ID和姓名
2. **答题练习**：系统自适应选择题目
3. **智能判分**：AI分析答案并给出详细解释
4. **查看报告**：了解学习进度和AI建议

### 新增交互命令
- `r`：查看学习报告 + AI建议
- `a`：单独查看AI学习建议
- `c`：与AI助手聊天
- `q`：退出程序

### AI功能体验

#### 智能判分示例
```
题目: Fill in a daily object in English that you use to write.
学生答案: pencil

AI判分结果: ✅ 正确！pencil也是很好的答案。writing instruments包括pen、pencil等，都是日常写作工具。
```

#### AI学习建议示例
```
🤖 AI学习建议
基于你的A2等级表现：
• 重点关注语法基础，特别是动词时态的掌握
• 继续积累日常词汇，建议每天学习5-10个新单词
• 你在present simple方面表现不错，可以尝试学习past simple
• 建议多做语法填空练习，巩固基础后再挑战阅读理解
```

#### AI对话示例
```
💬 和AI说点什么: 我总是搞混过去时和现在完成时
🤖 这是很常见的问题！简单来说：过去时表示明确的过去时间(yesterday I went)，现在完成时强调对现在的影响(I have finished my homework)。建议你多看时间标志词，比如ago用过去时，already/just用现在完成时。
```

## 🔧 技术架构

### LLM集成模块
- `llm_assistant.py`：LLM助手核心功能
- `question_generator.py`：动态题目生成
- 智能降级机制：LLM不可用时自动切换到传统模式

### 增强的核心模块
- `engine.py`：集成智能判分和AI建议
- `adapt.py`：支持动态题目生成的自适应算法
- `main.py`：新增AI交互功能

## ⚙️ 配置选项

### 环境变量 (.env)
```env
# OpenAI API配置
OPENAI_API_KEY=your_api_key_here
OPENAI_MODEL=gpt-4o-mini

# 可选：为不同任务配置不同模型
LLM_GRADING_MODEL=gpt-4o-mini      # 判分模型
LLM_EXPLANATION_MODEL=gpt-4o-mini  # 解释生成模型
LLM_CONVERSATION_MODEL=gpt-4o-mini # 对话模型
```

### 模型推荐
- **gpt-4o-mini**：性价比高，适合大部分场景
- **gpt-4o**：更强的推理能力，适合复杂判分
- **gpt-3.5-turbo**：成本更低的选择

## 🔄 降级机制

系统设计了完善的降级机制，确保即使在LLM不可用的情况下也能正常工作：

1. **API连接失败**：自动切换到传统判分模式
2. **生成题目失败**：使用原有题库
3. **网络异常**：显示友好提示，继续基础功能

## 🎯 使用场景

### 适用人群
- **英语学习者**：各等级(A1-C1)的自学者
- **教育工作者**：需要个性化教学内容的老师
- **开发者**：想要集成AI教育功能的应用开发者

### 应用场景
- **个人自学**：智能化的英语练习和指导
- **教学辅助**：为教师提供AI生成的练习题
- **企业培训**：员工英语能力提升项目
- **研究项目**：教育AI和自适应学习研究

## 🚧 已知限制

1. **需要网络连接**：AI功能需要访问OpenAI API
2. **API成本**：使用LLM会产生API调用费用
3. **响应时间**：AI功能可能比传统功能稍慢
4. **语言限制**：主要支持中英文交互

## 🔮 未来规划

- [ ] 支持更多LLM提供商(Claude、Gemini等)
- [ ] 本地模型集成(Ollama、Llama等)
- [ ] 语音交互功能
- [ ] 学习数据可视化
- [ ] 多语言支持

## 📄 许可证

本项目遵循原始许可证条款。请注意API使用需要遵循相应的服务提供商条款。

---

**享受AI增强的个性化英语学习体验！** 🌟